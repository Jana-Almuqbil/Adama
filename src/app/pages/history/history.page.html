<ion-header class="custom-header">
  <!-- Back Button -->
  <ion-buttons slot="start">
    <ion-button class="back-button" (click)="goBack()">
      <ion-icon name="arrow-back-outline"></ion-icon>
    </ion-button>
  </ion-buttons>

  <!-- Title -->
  <h1 class="header-title">History</h1>
</ion-header>

<ion-content class="history-content">
  <!-- Search Bar and Filter Button -->
  <div class="search-container">
    <ion-searchbar placeholder="Search..." class="custom-search"></ion-searchbar>
  
<!-- Filter Button -->
<ion-button class="filter-button" (click)="openFilterModal()">
  <ion-icon name="filter-outline"></ion-icon>
</ion-button>


<!-- Filter Modal -->
<ion-modal
  [isOpen]="isFilterOpen"
  (didDismiss)="closeFilterModal()"
  class="filter-modal"
>
  <ng-template>
    <div class="filter-container">
      <div class="modal-header">
        <h2>Filter</h2>
        <ion-icon name="close-outline" class="close-icon" (click)="closeFilterModal()"></ion-icon>
      </div>

      <ion-list>
        <ion-item>
          <ion-label>Diagnosed by AI</ion-label>
          <ion-toggle slot="end" color="tertiary"></ion-toggle>
        </ion-item>
        <ion-item>
          <ion-label>Verified by Doctor</ion-label>
          <ion-toggle slot="end" color="tertiary"></ion-toggle>
        </ion-item>
      </ion-list>
    </div>
  </ng-template>
</ion-modal>


  </div>

  <!-- History List -->
  <div class="history-list">
    <ion-card *ngFor="let record of historyRecords">
      <div class="card-content">
        <img [src]="record.image" alt="Diagnosis Image" />
        <div class="details">
          <h3 class="diagnosis-name">{{ record.name }}</h3>
          <p><strong>Date:</strong> {{ record.date }}</p>
          <p><strong>Accuracy Percentage:</strong> {{ record.accuracy }}%</p>
          <p><strong>Status:</strong> {{ record.status }}</p>
        </div>
      </div>
    </ion-card>
  </div>
</ion-content>
